{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{\"8xaw\":function(t,e,n){\"use strict\";n.d(e,\"d\",(function(){return r})),n.d(e,\"f\",(function(){return o})),n.d(e,\"b\",(function(){return a})),n.d(e,\"a\",(function(){return c})),n.d(e,\"e\",(function(){return u})),n.d(e,\"c\",(function(){return i})),n.d(e,\"g\",(function(){return s})),n.d(e,\"q\",(function(){return f})),n.d(e,\"p\",(function(){return p})),n.d(e,\"o\",(function(){return l})),n.d(e,\"n\",(function(){return d})),n.d(e,\"l\",(function(){return m})),n.d(e,\"k\",(function(){return v})),n.d(e,\"j\",(function(){return g})),n.d(e,\"h\",(function(){return b})),n.d(e,\"m\",(function(){return y})),n.d(e,\"i\",(function(){return w}));var r=\"RECEIVE_POSTS\",o=\"UPDATE_POST\",a=\"ADD_NEW_POST\",c=\"ADD_NEW_PARAGRAPH\",u=\"REMOVE_PARAGRAPH\",i=\"CHANGE_EDIT_MODE\";function s(t){return{type:i,edit_mode:t}}function f(t,e){return t.title=e,{type:o,new_post:t}}function p(t,e){return t.tags=e,{type:o,new_post:t}}function l(t,e){return t.public=e,{type:o,new_post:t}}function d(t,e){return t.content=e,{type:o,new_post:t}}function h(t){t.hasOwnProperty(\"posts\")||(t={posts:t,current_page:1,total_pages:1});var e={};for(var n in t.posts){var o=t.posts[n];e[o._id]=o}return{type:r,posts:e,current_page:t.current_page,total_pages:t.total_pages,receivedAt:Date.now()}}function m(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){var n=\"https://aaronbae.com/api/posts/public\";t>0&&(n+=\"?skip=\"+t.toString()),fetch(n).then((function(t){return t.json()})).then((function(t){e(h(t))}))}}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(e){var n=\"https://aaronbae.com/api/posts/\";t>0&&(n=n.slice(0,-1)+\"?skip=\"+t.toString()),fetch(n).then((function(t){return t.json()})).then((function(t){return e(h(t))}))}}function g(t){return function(e){fetch(\"https://aaronbae.com/api/posts/\"+t).then((function(t){return t.json()})).then((function(t){return e(h(t))}))}}function b(){return function(t){fetch(\"https://aaronbae.com/api/posts/add/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({})}).then((function(t){return t.json()})).then((function(e){var n;t((n=e.post,{type:a,new_post:n})),t(s(!0))}))}}function y(t){var e=\"https://aaronbae.com/api/posts/update/\"+t._id.toString();return function(n){fetch(e,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(t)}).then((function(t){return n(s(!1))}))}}function w(t){var e=\"https://aaronbae.com/api/posts/delete/\"+t.toString();return function(t){fetch(e,{method:\"GET\",headers:{\"Content-Type\":\"application/json\"}}).then((function(t){return t.json()})).then((function(){return t(s(!1))}))}}},C9mO:function(t,e,n){\"use strict\";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if(\"undefined\"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if(\"string\"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return\"Object\"===n&&t.constructor&&(n=t.constructor.name),\"Map\"===n||\"Set\"===n?Array.from(t):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}(t)||function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}()}function a(t){return t=t.replace(/https:\\/\\/aaronbaebucket.s3.([^/]+)\\//gi,\"https://aaronbae.com/api/files/\"),\"<img src='\".concat(t,\"' class='aws-image' alt='Loaded from AWS'>\")}function c(t){return\"<br>\"===t.content||\"\"===t.content?\"<div></div>\":t.content}function u(t){var e=/[!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~]/g;return t.split(\",\").map((function(t){return t.trim().replace(e,\"\")}))}function i(t){return Object.values(t).sort((function(t,e){return t.createtime>=e.createtime?-1:1}))}function s(t,e){return 5*(Math.min(e,Math.max(1,t))-1)}function f(t,e){var n=Math.max(1,Math.min(t-2,e-4));return o(Array(5).keys()).map((function(t){return t+n}))}function p(t){var e=t.title.replace(/[^A-Za-z0-9\\s]/g,\"\").toLowerCase();return e=e.split(\" \").join(\"-\"),\"/blog/\".concat(e,\"-\").concat(t._id)}function l(t){var e=new Date(t),n=new Date(e.getTime()-6e4*(new Date).getTimezoneOffset());return[\"Monday\",\"Tueday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\",\"Sunday\"][n.getDay()]+\", \"+[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"][n.getMonth()]+\" \"+n.getDate()+\", \"+n.getFullYear()}function d(t){return t.replace(/<div>|<\\/div>|<br>|<img\\s+.*>/gi,\" \").substring(0,200)+\"...\"}function h(t){var e=t.content.match(/https\\:\\/\\/aaronbae.com([-a-zA-Z0-9()@:%_\\+.~#?&//=]*).(png|jpg|jpeg)/gi);return e?e[0]:\"\"}n.d(e,\"a\",(function(){return a})),n.d(e,\"d\",(function(){return c})),n.d(e,\"i\",(function(){return u})),n.d(e,\"h\",(function(){return i})),n.d(e,\"e\",(function(){return s})),n.d(e,\"f\",(function(){return f})),n.d(e,\"g\",(function(){return p})),n.d(e,\"c\",(function(){return l})),n.d(e,\"j\",(function(){return d})),n.d(e,\"b\",(function(){return h}))},JUhy:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/blog\",function(){return n(\"YZWa\")}])},YFqc:function(t,e,n){t.exports=n(\"cTJO\")},YZWa:function(t,e,n){\"use strict\";n.r(e),n.d(e,\"default\",(function(){return v}));var r=n(\"q1tI\"),o=n.n(r),a=n(\"nOHt\"),c=n(\"/MKj\"),u=n(\"8xaw\"),i=n(\"YFqc\"),s=n.n(i),f=n(\"C9mO\"),p=(n(\"KDG7\"),o.a.createElement);function l(t){var e=t.post,n=Object(f.c)(e.createtime),r=Object(f.j)(e.content),o=Object(f.g)(e);return p(s.a,{href:\"/blog/[id]\",as:o},p(\"div\",{className:\"post-preview\"},p(\"div\",{className:\"preview-date\"},n),p(\"div\",{className:\"preview-title\"},\"\"!==e.title?e.title:\"(No Title)\"),p(\"div\",null,r),p(\"div\",{className:\"read-more\"},\"Read More\")))}n(\"UQLi\");var d=o.a.createElement;function h(){var t=Object(c.c)((function(t){return t.BlogReducer.total_pages})),e=Object(c.c)((function(t){return t.BlogReducer.current_page}));return d(\"div\",{className:\"pagination\"},d(s.a,{href:{pathname:\"/blog\",query:{skip:Object(f.e)(1,t)}}},d(\"div\",{className:\"anchor-wrapper\"},d(\"a\",{className:\"page\"},\"FIRST\"))),Object(f.f)(e,t).map((function(n,r){return d(s.a,{key:r,href:{pathname:\"/blog\",query:{skip:Object(f.e)(n,t)}}},d(\"div\",{className:e===n?\"anchor-wrapper current\":\"anchor-wrapper\"},d(\"a\",{className:\"page\"},n)))})),d(s.a,{href:{pathname:\"/blog\",query:{skip:Object(f.e)(t,t)}}},d(\"div\",{className:\"anchor-wrapper\"},d(\"a\",{className:\"page\"},\"LAST\"))))}n(\"/O/d\");var m=o.a.createElement;function v(){var t=Object(c.b)(),e=Object(a.useRouter)(),n=Object(r.useState)(!1),o=n[0],i=n[1],s=Object(c.c)((function(t){return t.BlogReducer.posts})),p=Object(c.c)((function(t){return t.AdminReducer.logged_in})),d=e.query.skip;Object(r.useEffect)((function(){if(o){i(!1);var t=Object(f.h)(s)[0]._id;e.push(\"/blog/[id]\",\"/blog/\".concat(t))}}),[s]),Object(r.useEffect)((function(){t(p?Object(u.k)(d):Object(u.l)(d))}),[d]);return m(\"div\",{id:\"blog-container\"},m(\"div\",{className:\"card-wrapper\"},m(\"div\",{className:\"card-title blog-whats-new\"},m(\"span\",null,\"What's New?\"),p&&m(\"span\",{className:\"blog-compose\",onClick:function(e){i(!0),t(Object(u.h)())}},\"Compose\")),m(\"div\",{className:\"preview-wrapper\"},s&&Object(f.h)(s).map((function(t,e){return m(l,{key:e,post:t})})),s&&m(h,null))))}},cTJO:function(t,e,n){\"use strict\";var r=n(\"J4zp\"),o=n(\"284h\");e.__esModule=!0,e.default=void 0;var a,c=o(n(\"q1tI\")),u=n(\"g/15\"),i=n(\"nOHt\"),s=n(\"elyg\");var f=new Map,p=window.IntersectionObserver,l={};var d=function(t,e){var n=a||(p?a=new p((function(t){t.forEach((function(t){if(f.has(t.target)){var e=f.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&(a.unobserve(t.target),f.delete(t.target),e())}}))}),{rootMargin:\"200px\"}):void 0);return n?(n.observe(t),f.set(t,e),function(){try{n.unobserve(t)}catch(e){console.error(e)}f.delete(t)}):function(){}};function h(t,e,n,r){t.prefetch(e,n,r).catch((function(t){0})),l[e+\"%\"+n]=!0}function m(t,e,n,r,o,a,c){var i=t.currentTarget,s=i.nodeName,f=i.target;\"A\"===s&&(f&&\"_self\"!==f||t.metaKey||t.ctrlKey||t.shiftKey||t.nativeEvent&&2===t.nativeEvent.which)||function(t){var e=(0,u.getLocationOrigin)();return new URL(t,e).origin===e}(n)&&(t.preventDefault(),null==c&&(c=r.indexOf(\"#\")<0),e[o?\"replace\":\"push\"](n,r,{shallow:a}).then((function(t){t&&c&&(window.scrollTo(0,0),document.body.focus())})))}var v=function(t){var e=!1!==t.prefetch,n=c.default.useState(),o=r(n,2),a=o[0],u=o[1],f=(0,i.useRouter)(),v=f&&f.pathname||\"/\",g=c.default.useMemo((function(){var e=(0,s.resolveHref)(v,t.href);return{href:e,as:t.as?(0,s.resolveHref)(v,t.as):e}}),[v,t.href,t.as]),b=g.href,y=g.as;c.default.useEffect((function(){if(e&&p&&a&&a.tagName&&!l[b+\"%\"+y])return d(a,(function(){h(f,b,y)}))}),[e,a,b,y,f]);var w=t.children,O=t.replace,_=t.shallow,j=t.scroll;\"string\"===typeof w&&(w=c.default.createElement(\"a\",null,w));var E=c.Children.only(w),N={ref:function(t){t&&u(t),E&&\"object\"===typeof E&&E.ref&&(\"function\"===typeof E.ref?E.ref(t):\"object\"===typeof E.ref&&(E.ref.current=t))},onClick:function(t){E.props&&\"function\"===typeof E.props.onClick&&E.props.onClick(t),t.defaultPrevented||m(t,f,b,y,O,_,j)}};return e&&(N.onMouseEnter=function(t){E.props&&\"function\"===typeof E.props.onMouseEnter&&E.props.onMouseEnter(t),h(f,b,y,{priority:!0})}),!t.passHref&&(\"a\"!==E.type||\"href\"in E.props)||(N.href=(0,s.addBasePath)(y)),c.default.cloneElement(E,N)};e.default=v}},[[\"JUhy\",0,1,2,4,3]]]);","extractedComments":[]}