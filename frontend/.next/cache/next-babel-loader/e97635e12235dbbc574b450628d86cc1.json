{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aaron\\\\Desktop\\\\aaronbae.com\\\\frontend\\\\src\\\\pages\\\\blog\\\\[id].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport { useSelector } from 'react-redux';\nimport PostInformation from '../../components/Blog/PostInformation';\nimport PostControls from '../../components/Blog/PostControls';\nimport PostContent from '../../components/Blog/PostContent';\nimport PostEditControls from '../../components/Blog/PostEditControls';\nimport { url_to_post_id, summarize_content, post_to_url, find_image_from_post } from '../../library/format';\nimport '../../styles/Blog/id.css';\n\nfunction PostViewer({\n  post_id\n}) {\n  const post = useSelector(store => store.BlogReducer.posts[post_id]);\n  const edit_mode = useSelector(store => store.BlogReducer.edit_mode);\n  const description = summarize_content(post.content);\n  const url = process.env.NEXT_PUBLIC_URL + post_to_url(post);\n  const img = find_image_from_post(post);\n  return __jsx(\"div\", {\n    className: \"post-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, post.title), __jsx(\"meta\", {\n    key: \"title\",\n    name: \"title\",\n    content: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"description\",\n    name: \"description\",\n    content: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:url\",\n    property: \"og:url\",\n    content: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:type\",\n    property: \"og:type\",\n    content: \"article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:title\",\n    property: \"og:title\",\n    content: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:description\",\n    property: \"og:description\",\n    content: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), img !== \"\" && __jsx(\"meta\", {\n    key: \"og:image\",\n    property: \"og:image\",\n    content: img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 24\n    }\n  })), post && __jsx(\"div\", {\n    className: \"card-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(PostInformation, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }), __jsx(PostControls, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), __jsx(PostContent, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }), edit_mode && __jsx(PostEditControls, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport async function getServerSideProps(context) {\n  const raw = await fetch(process.env.NEXT_PUBLIC_POST_URL + url_to_post_id(context.query.id));\n  const res = await raw.json();\n  const post = res.posts[0];\n  return {\n    props: {\n      post_id: post._id,\n      initialReduxState: {\n        BlogReducer: {\n          posts: {\n            [post._id]: post\n          }\n        }\n      }\n    }\n  };\n}\nexport default PostViewer;","map":{"version":3,"sources":["C:/Users/Aaron/Desktop/aaronbae.com/frontend/src/pages/blog/[id].js"],"names":["Head","useSelector","PostInformation","PostControls","PostContent","PostEditControls","url_to_post_id","summarize_content","post_to_url","find_image_from_post","PostViewer","post_id","post","store","BlogReducer","posts","edit_mode","description","content","url","process","env","NEXT_PUBLIC_URL","img","title","_id","getServerSideProps","context","raw","fetch","NEXT_PUBLIC_POST_URL","query","id","res","json","props","initialReduxState"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport { useSelector } from 'react-redux'\r\nimport PostInformation from '../../components/Blog/PostInformation'\r\nimport PostControls from '../../components/Blog/PostControls'\r\nimport PostContent from '../../components/Blog/PostContent'\r\nimport PostEditControls from '../../components/Blog/PostEditControls'\r\nimport { \r\n  url_to_post_id, \r\n  summarize_content,\r\n  post_to_url,\r\n  find_image_from_post\r\n} from '../../library/format'\r\nimport '../../styles/Blog/id.css'\r\n\r\nfunction PostViewer({post_id}) {\r\n  const post = useSelector(store => store.BlogReducer.posts[post_id])\r\n  const edit_mode = useSelector(store => store.BlogReducer.edit_mode)\r\n  const description = summarize_content(post.content)\r\n  const url = process.env.NEXT_PUBLIC_URL + post_to_url(post)\r\n  const img = find_image_from_post(post)\r\n\r\n  return (\r\n    <div className=\"post-id\">\r\n      <Head>\r\n        <title>{post.title}</title>\r\n        <meta key=\"title\" name=\"title\" content={post.title} />\r\n        <meta key=\"description\" name=\"description\" content={description} />\r\n        <meta key=\"og:url\" property=\"og:url\" content={url} />\r\n        <meta key=\"og:type\" property=\"og:type\" content=\"article\" />\r\n        <meta key=\"og:title\" property=\"og:title\" content={post.title} />\r\n        <meta key=\"og:description\" property=\"og:description\" content={description} />\r\n        {img !== \"\" && <meta key=\"og:image\" property=\"og:image\" content={img} />}\r\n      </Head>\r\n      {post && \r\n        <div className=\"card-wrapper\"> \r\n          <PostInformation post_id={post._id}/>\r\n          <PostControls post_id={post._id}/>\r\n          <PostContent post_id={post._id}/>\r\n          {edit_mode && \r\n            <PostEditControls post_id={post._id} />\r\n          }\r\n        </div>\r\n      }\r\n  </div>\r\n  )\r\n}\r\nexport async function getServerSideProps(context) {\r\n  const raw = await fetch(process.env.NEXT_PUBLIC_POST_URL+url_to_post_id(context.query.id))\r\n  const res = await raw.json()\r\n  const post = res.posts[0]\r\n  return {\r\n    props: {\r\n      post_id: post._id,\r\n      initialReduxState: {\r\n        BlogReducer: {\r\n          posts: {\r\n            [post._id] : post\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }  \r\n}\r\nexport default PostViewer;"]},"metadata":{},"sourceType":"module"}