{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from 'react';\nimport { snake_case_to_normal } from '../../library/format';\nimport '../../styles/Admin/cron.css';\nexport default function CRON(props) {\n  var _useState = useState({}),\n      cronState = _useState[0],\n      setCronState = _useState[1];\n\n  var initiate_yahoo = function initiate_yahoo() {\n    fetch(process.env.NEXT_PUBLIC_STOCKS_URL + \"/initiate_fetch\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(function () {\n      return fetch(process.env.NEXT_PUBLIC_MONITOR_CRON);\n    }).then(function (res) {\n      return res.json();\n    }).then(function (cron) {\n      cron.queue = cron.queue[0];\n      setCronState(cron);\n    });\n  };\n\n  var fetch_cron_info = function fetch_cron_info() {\n    fetch(process.env.NEXT_PUBLIC_MONITOR_CRON).then(function (res) {\n      return res.json();\n    }).then(function (cron) {\n      cron.queue = cron.queue[0];\n      setCronState(cron);\n    });\n  };\n\n  useEffect(function () {\n    fetch_cron_info();\n  }, []);\n  return __jsx(\"div\", {\n    className: \"card-wrapper \".concat(props.className)\n  }, __jsx(\"p\", {\n    className: \"card-title cron-title\"\n  }, \"CRON\", __jsx(\"span\", {\n    className: \"cron-refresh cron-title-button\",\n    onClick: fetch_cron_info\n  }, \"Refresh\"), __jsx(\"span\", {\n    className: \"cron-title-button\",\n    onClick: initiate_yahoo\n  }, \"Yahoo\")), __jsx(\"table\", {\n    className: \"cron-table\"\n  }, __jsx(\"tbody\", null, Object.keys(cronState).map(function (item, index) {\n    var _cronState$item;\n\n    return __jsx(\"tr\", {\n      key: index\n    }, __jsx(\"td\", null, snake_case_to_normal(item)), __jsx(\"td\", {\n      className: \"cron-table-values\"\n    }, (_cronState$item = cronState[item]) !== null && _cronState$item !== void 0 ? _cronState$item : \"null\"));\n  }))));\n}","map":null,"metadata":{},"sourceType":"module"}