{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aaron\\\\Desktop\\\\aaronbae.com\\\\src\\\\pages\\\\blog\\\\[id].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head';\nimport { useSelector } from 'react-redux';\nimport PostInformation from '../../components/Blog/PostInformation';\nimport PostControls from '../../components/Blog/PostControls';\nimport PostContent from '../../components/Blog/PostContent';\nimport PostEditControls from '../../components/Blog/PostEditControls';\nimport { summarize_content, post_to_url, find_image_from_post } from '../../library/format';\nimport '../../styles/Blog/id.css';\n\nfunction PostViewer(_ref) {\n  _s();\n\n  var post_id = _ref.post_id;\n  var post = useSelector(function (store) {\n    return store.BlogReducer.posts[post_id];\n  });\n  var edit_mode = useSelector(function (store) {\n    return store.BlogReducer.edit_mode;\n  });\n  var description = summarize_content(post.content);\n  var url = process.env.NEXT_PUBLIC_URL + post_to_url(post);\n  var img = find_image_from_post(post);\n  return __jsx(\"div\", {\n    className: \"post-id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, post.title), __jsx(\"meta\", {\n    key: \"title\",\n    name: \"title\",\n    content: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"description\",\n    name: \"description\",\n    content: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:url\",\n    property: \"og:url\",\n    content: url,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:type\",\n    property: \"og:type\",\n    content: \"article\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:title\",\n    property: \"og:title\",\n    content: post.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), __jsx(\"meta\", {\n    key: \"og:description\",\n    property: \"og:description\",\n    content: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 9\n    }\n  }), img !== \"\" && __jsx(\"meta\", {\n    key: \"og:image\",\n    property: \"og:image\",\n    content: img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 24\n    }\n  })), post && __jsx(\"div\", {\n    className: \"card-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, __jsx(PostInformation, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 11\n    }\n  }), __jsx(PostControls, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 11\n    }\n  }), __jsx(PostContent, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }), edit_mode && __jsx(PostEditControls, {\n    post_id: post._id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  })));\n}\n\n_s(PostViewer, \"25udmZfi68L75Bw/pHJ7UgJb+OM=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = PostViewer;\nexport var __N_SSP = true;\nexport default PostViewer;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostViewer\");","map":{"version":3,"sources":["C:/Users/Aaron/Desktop/aaronbae.com/src/pages/blog/[id].js"],"names":["Head","useSelector","PostInformation","PostControls","PostContent","PostEditControls","summarize_content","post_to_url","find_image_from_post","PostViewer","post_id","post","store","BlogReducer","posts","edit_mode","description","content","url","process","env","NEXT_PUBLIC_URL","img","title","_id"],"mappings":"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","sourcesContent":["import Head from 'next/head'\r\nimport { useSelector } from 'react-redux'\r\nimport PostInformation from '../../components/Blog/PostInformation'\r\nimport PostControls from '../../components/Blog/PostControls'\r\nimport PostContent from '../../components/Blog/PostContent'\r\nimport PostEditControls from '../../components/Blog/PostEditControls'\r\nimport { \r\n  url_to_post_id, \r\n  summarize_content,\r\n  post_to_url,\r\n  find_image_from_post\r\n} from '../../library/format'\r\nimport '../../styles/Blog/id.css'\r\n\r\nfunction PostViewer({post_id}) {\r\n  const post = useSelector(store => store.BlogReducer.posts[post_id])\r\n  const edit_mode = useSelector(store => store.BlogReducer.edit_mode)\r\n  const description = summarize_content(post.content)\r\n  const url = process.env.NEXT_PUBLIC_URL + post_to_url(post)\r\n  const img = find_image_from_post(post)\r\n\r\n  return (\r\n    <div className=\"post-id\">\r\n      <Head>\r\n        <title>{post.title}</title>\r\n        <meta key=\"title\" name=\"title\" content={post.title} />\r\n        <meta key=\"description\" name=\"description\" content={description} />\r\n        <meta key=\"og:url\" property=\"og:url\" content={url} />\r\n        <meta key=\"og:type\" property=\"og:type\" content=\"article\" />\r\n        <meta key=\"og:title\" property=\"og:title\" content={post.title} />\r\n        <meta key=\"og:description\" property=\"og:description\" content={description} />\r\n        {img !== \"\" && <meta key=\"og:image\" property=\"og:image\" content={img} />}\r\n      </Head>\r\n      {post && \r\n        <div className=\"card-wrapper\"> \r\n          <PostInformation post_id={post._id}/>\r\n          <PostControls post_id={post._id}/>\r\n          <PostContent post_id={post._id}/>\r\n          {edit_mode && \r\n            <PostEditControls post_id={post._id} />\r\n          }\r\n        </div>\r\n      }\r\n  </div>\r\n  )\r\n}\r\nexport async function getServerSideProps(context) {\r\n  const raw = await fetch(process.env.NEXT_PUBLIC_POST_URL+url_to_post_id(context.query.id))\r\n  const res = await raw.json()\r\n  const post = res.posts[0]\r\n  return {\r\n    props: {\r\n      post_id: post._id,\r\n      initialReduxState: {\r\n        BlogReducer: {\r\n          posts: {\r\n            [post._id] : post\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }  \r\n}\r\nexport default PostViewer;"]},"metadata":{},"sourceType":"module"}